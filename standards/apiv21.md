# APIv2.1

## /upload

### request body

```json
{
    "meta": {
        "authentic_source": "",
        "document_id": "",
        "document_type": "",
        "uuid": "",
        "revocation_id": "",
        "document_id": "",
        "collect_id": "",
        "authentic_source_person_id": "",
        "document_version": 0,
    },
    "identity": {
        "identity_version": "",
        "family_name": "",
        "given_name":"",
        "birth_date":"",
        "uuid": "",
        "family_name_birth":"",
        "given_name_birth":"", 
        "birth_place":"",
        "gender":"",
        "age_over_18":"",
        "age_over_NN":"",
        "age_in_years":"",
        "age_birth_year":"",
        "birth_country":"",
        "birth_state":""
    },
    "attestation": {
        "attestation_version": 0,
        "attestation_type": "",
        "description_short": "",
        "description_long": "",
        "valid_from": "",
        "valid_to":""
        },  
    "document_data": {}
}
```

### types

#### meta

|type| Attribute | required | description |
|-|-|-|-|
| string | authentic_source | true | |
| string | document_id | true | |
| string | document_type |true | Type of Document “EHIC” or “PDA1” |
| string | uuid | true | ID of the uploaded document Must be generated by authentic source unique per document type|
| string | revocation_id | true | ID for credential revocation; If not defined by institution it should be set to document_id value after upload. Different value may be used to llow credential coupling |
| string | collection_id | false | If not defined by institution it should be set to document_id value after upload.|
| string | authentic_source_person_id |true | Institutional identifier of the person/subject|
| integer | document_data_version | true | JSON object document data version |

#### identity

|type| Attribute | required | description |
|-|-|-|-|
| integer | identity_version |true | Identity data version|
| string | family_name |true | As in current PID namespace |
| string | given_name | true | As in current PID namespace |
| string | birth_date |true | As in current PID namespace |
| string | uuid | true | As in current PID namespace |
| string | family_name_birth | false | As in current PID namespace |
| string | given_name_birth | false | As in current PID namespace |
| string | birth_place | false | As in current PID namespace |
| string | gender | false | As in current PID namespace |
| string | age_over_18 | false | As in current PID namespace |
| string | age_over_NN | false | As in current PID namespace |
| string | age_in_years | false | As in current PID namespace |
| string | age_birth_year | false | As in current PID namespace |
| string | birth_country | false | As in current PID namespace |
| string | birth_state | false | As in current PID namespace|
| string | birth_city | false | As in current PID namespace |
| string | resident_address | false | As in current PID namespace |
| string | resident_country | false | As in current PID namespace |
| string | resident_state | false | As in current PID namespace |
| string | resident_city | false | As in current PID namespace |
| string | resident_postal_code | false | As in current PID namespace |
| string | resident_street | false | As in current PID namespace |
| string | resident_house_number | false | As in current PID namespace |
| string | nationality | false | As in current PID namespace |

#### attestation

|type| Attribute | required | description |
|-|-|-|-|
| integer | attestation_version | true | |
| string | attestation_type | true |  For internal display interpretation/differentiation |
| string | description_short | true | To display in the portal |
| string | description_long | true | To display in the portal |
| string | valid_from | true | Validity information of the attestation, iso8601/epoche |
| string | valid_to | true | Validity information of the attestation, iso8601/epoche |

#### document_data

unspecified json object, used to include any document type from authentic source

### Return

http status code 200, else 400
TODO(masv): add json error response
